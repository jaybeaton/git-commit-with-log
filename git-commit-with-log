#!/bin/bash

if [ "$1" = "commit" ]; then
  YEARMONTH=$(date +%Y%m);
  LOGFILE="${HOME}/logs/git-commits.${YEARMONTH}.log";
  DATETIME=$(date +%Y%m%dT%H%M);
  # Find the current path in Git.
  GIT_LOCATION=$(git rev-parse --show-superproject-working-tree --show-toplevel)
  # Log the commit.
  echo "${DATETIME},${GIT_LOCATION}" >> $LOGFILE
fi

# Run the original Git command.
git "${@}";
